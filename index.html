<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>‚ú® Happy Birthday Saniya ‚ú®</title>
  <meta name="description" content="A sparkly birthday surprise for Saniya ‚Äî made with love by Shivam" />
  <style>
    :root{
      --bg1: #fff5fb;
      --bg2: #fff0f7;
      --accent: #ff66b3;
      --accent-2: #ff9acc;
      --soft: rgba(255,255,255,0.85);
      --glass: rgba(255,255,255,0.5);
      --text-dark: #4a303f;
      --card: #fff;
      --maxwidth: 820px;
      --ui: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      --elegant: "Georgia", "Times New Roman", serif;
    }

    html,body{height:100%;margin:0;font-family:var(--ui);background:linear-gradient(180deg,var(--bg1),var(--bg2));color:var(--text-dark);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    /* full-screen sparkle overlay */
    .sparkles {
      position:fixed; inset:0; pointer-events:none; z-index:60;
      background-image: radial-gradient(circle at 10% 20%, rgba(255,255,255,0.9) 0px, rgba(255,255,255,0) 6px),
                        radial-gradient(circle at 80% 40%, rgba(255,255,255,0.88) 0px, rgba(255,255,255,0) 5px);
      mix-blend-mode:screen;
      opacity:1; transition:opacity .9s ease;
    }
    /* animated tiny sparkles using pseudo elements */
    .sparkles::after {
      content:"";
      position:absolute; inset:0;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><circle cx="10" cy="10" r="1.6" fill="%23ffd7f0" opacity="0.95"/></svg>');
      background-repeat: repeat;
      animation: sparkleMove 12s linear infinite;
      opacity:.95;
      filter: drop-shadow(0 6px 12px rgba(255,105,180,0.1));
    }
    @keyframes sparkleMove { from { transform: translateY(0) } to { transform: translateY(-40px) } }

    /* container - mobile first */
    .page {
      min-height:100vh; display:flex; flex-direction:column; align-items:center; gap:18px;
      padding:22px 18px 48px; box-sizing:border-box;
    }

    /* Intro full-screen area */
    .intro {
      width:100%; max-width:var(--maxwidth); background:linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,250,252,0.9));
      border-radius:18px; padding:28px; display:flex; flex-direction:column; align-items:center; gap:14px;
      box-shadow: 0 10px 30px rgba(120,60,90,0.08);
      margin-top:20px;
    }
    .intro h1 { font-family:var(--elegant); font-size:28px; margin:0; letter-spacing:0.4px;
      background: linear-gradient(90deg,var(--accent),var(--accent-2)); -webkit-background-clip:text; background-clip:text;color:transparent;
    }
    .intro p { margin:0;color:#7b586b }

    /* envelope */
    .envelope-wrap { width:200px; height:140px; perspective:1000px; display:flex;align-items:center;justify-content:center; }
    .envelope {
      width:200px;height:120px;border-radius:12px;background:linear-gradient(180deg,#fff,#fff4fb); position:relative; box-shadow:0 8px 30px rgba(120,60,90,0.08);
      transform-origin:center center; transition:transform .85s cubic-bezier(.2,.9,.3,1);
      overflow:visible;
    }
    .flap {
      position:absolute; left:0; right:0; top:-8px; height:70%; background:linear-gradient(180deg,#ffdff0,#ffd0ea);
      clip-path: polygon(0 0, 50% 100%, 100% 0); border-radius:12px; display:flex;align-items:center;justify-content:center;
      font-family:var(--elegant); color:#7a0b45; font-size:18px; transform-origin: top center; transition: transform .9s;
    }
    .card-inside { position:absolute; left:8%; right:8%; top:28%; bottom:8%; border-radius:8px; background:linear-gradient(180deg,#fff,#fffafa); display:flex;align-items:center;justify-content:center; flex-direction:column }
    .open-btn { margin-top:10px;padding:10px 16px;border-radius:999px;border:none;background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:white; font-weight:700; box-shadow:0 8px 20px rgba(255,100,170,0.18) }

    /* hidden when opened */
    .hide { opacity:0; transform: translateY(12px); pointer-events:none; }

    /* Main sections stacked vertically */
    .section { width:100%; max-width:var(--maxwidth); background:var(--card); border-radius:16px; padding:18px; box-shadow:0 10px 30px rgba(120,60,90,0.06); display:flex; flex-direction:column; gap:12px; }
    .center { align-items:center; justify-content:center; display:flex; }

    /* video */
    .video-wrap { width:100%; border-radius:12px; overflow:hidden; background:#000; display:flex;align-items:center; justify-content:center; }
    video{ width:100%; height:auto; display:block; max-height:60vh; }

    /* message with typing effect */
    .wish {
      font-family:var(--elegant); font-size:16px; color:#6f3f54; line-height:1.45; white-space:pre-wrap; background: linear-gradient(90deg, rgba(255,255,255,0.75), rgba(255,255,255,0.9));
      padding:12px;border-radius:12px; box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
    }
    .wish .typing { display:inline-block; border-right:2px solid rgba(255,150,200,0.95); padding-right:4px; animation: blinkCaret .9s step-end infinite; }
    @keyframes blinkCaret { 50% { border-color: transparent } }

    /* gallery photos */
    .gallery { display:flex; gap:10px; flex-wrap:nowrap; width:100%; justify-content:space-between; }
    .gallery img { width:48%; height:auto; border-radius:12px; object-fit:cover; box-shadow:0 10px 30px rgba(120,60,90,0.06) }

    /* footer */
    .footer { font-size:14px; color:#7b586b; text-align:center; padding:8px 0; }

    /* small screen tweaks */
    @media (max-width:480px){
      .intro h1 { font-size:24px }
      .envelope-wrap { width:170px; height:110px }
      .open-btn { padding:8px 14px }
      .gallery img { width:48% }
    }

  </style>
</head>
<body>
  <!-- YouTube embed used to play Those Eyes (autoplay & loop). If autoplay is blocked by browser, user can press play. -->
  <!-- Video id used: b_CpWmkhwq0 (official upload). Autoplay is requested below. Source: YouTube official upload. :contentReference[oaicite:1]{index=1} -->
  <iframe id="yt-player" width="1" height="1" src="https://www.youtube.com/embed/b_CpWmkhwq0?autoplay=1&loop=1&playlist=b_CpWmkhwq0&controls=0&iv_load_policy=3&rel=0&modestbranding=1"
    allow="autoplay; encrypted-media" style="display:block;position:fixed;left:-9999px;top:-9999px" aria-hidden="true"></iframe>

  <div class="sparkles" id="sparkles"></div>

  <main class="page" id="pageRoot">
    <!-- Intro + envelope -->
    <section class="intro center" id="introSection">
      <h1>‚ú® Happy Birthday Saniya ‚ú®</h1>
      <p>Tap to open üíå</p>

      <div class="envelope-wrap center" role="button" tabindex="0" aria-label="Open envelope" id="envelopeWrap">
        <div class="envelope" id="envelope">
          <div class="flap" id="flap">For Saniya üíñ</div>
          <div class="card-inside">
            <div style="font-family:var(--elegant);color:#7a0b45">A little surprise</div>
            <button class="open-btn" id="openBtn">Open</button>
          </div>
        </div>
      </div>
      <div style="font-size:13px;color:#7a586b">Tip: If music doesn't start, tap the page once to allow audio.</div>
    </section>

    <!-- Reveal / Stage -->
    <section class="section center" id="stageSection" style="display:none;">
      <div style="width:100%;display:flex;flex-direction:column;gap:12px">
        <div class="center" style="flex-direction:column;gap:10px">
          <div style="font-family:var(--elegant);font-size:20px;color:#7a0b45">Your surprise</div>
          <div style="color:#6f3f54;font-size:14px">Lights, a memory and a little message ‚ù§Ô∏è</div>
        </div>
      </div>
    </section>

    <!-- Main vertical content: video ‚Üí message ‚Üí photos -->
    <section class="section" id="mainSection" style="display:none;">
      <div class="center" style="flex-direction:column;gap:12px">
        <!-- video embed (local file) -->
        <div class="video-wrap" id="videoWrap">
          <video id="mainVideo" playsinline webkit-playsinline controls preload="metadata" loop>
            <source src="video.mp4" type="video/mp4">
            Your browser doesn't support HTML5 video ‚Äî make sure 'video.mp4' is present.
          </video>
        </div>

        <!-- message -->
        <div class="wish" id="wishBox" aria-live="polite">
          <!-- the typed message will be inserted here by JS -->
          <span id="typedText"></span><span class="typing" id="typingCaret"></span>
        </div>

        <!-- gallery -->
        <div class="gallery" id="galleryArea">
          <img src="photo1.jpg" alt="photo 1" id="p1">
          <img src="photo2.jpg" alt="photo 2" id="p2">
        </div>
      </div>
    </section>

    <!-- end -->
    <section class="section center" id="endSection" style="display:none;">
      <div style="text-align:center">
        <div style="font-family:var(--elegant);font-size:18px;color:#7a0b45">Made with love by Shivam üíï</div>
      </div>
    </section>

    <div class="footer">If anything needs adjusting ‚Äî photos, text or music ‚Äî I can update it for you.</div>
  </main>

  <script>
    // --- variables & elements
    const flap = document.getElementById('flap');
    const envelope = document.getElementById('envelope');
    const openBtn = document.getElementById('openBtn');
    const envelopeWrap = document.getElementById('envelopeWrap');
    const introSection = document.getElementById('introSection');
    const stageSection = document.getElementById('stageSection');
    const mainSection = document.getElementById('mainSection');
    const endSection = document.getElementById('endSection');
    const sparkles = document.getElementById('sparkles');
    const typedTextEl = document.getElementById('typedText');
    const typingCaret = document.getElementById('typingCaret');
    const video = document.getElementById('mainVideo');

    // message content (gentle, thoughtful)
    const message = `Hey Saniya,\n\nIt‚Äôs been a while since we last talked, and I don‚Äôt even know where to start... but I couldn‚Äôt let your day pass without doing something special.\n\nYou‚Äôve always had a calm, beautiful energy that lights up even small moments. I hope today brings you the same warmth and a little sparkle.\n\nHappy Birthday, Saniya ‚ú®\n\n‚Äî With warm wishes, Shivam`;

    // typing effect
    function typeMessage(text, el, speed=18) {
      let i = 0;
      el.textContent = '';
      function step(){
        if(i <= text.length - 1){
          el.textContent += text[i++];
          // scroll wish box a bit if long
          el.parentElement.scrollTop = el.parentElement.scrollHeight;
          setTimeout(step, speed);
        } else {
          typingCaret.style.display = 'none';
        }
      }
      step();
    }

    // envelope open animation & reveal
    function revealAll(){
      // flap open
      flap.style.transform = 'rotateX(180deg) translateY(-8px)';
      envelope.style.transform = 'translateY(-16px) scale(.98)';
      setTimeout(()=> {
        // fade intro and show main sections sequentially
        introSection.style.transition = 'opacity .6s ease, transform .6s ease';
        introSection.style.opacity = '0';
        introSection.style.transform = 'translateY(-18px)';
        setTimeout(()=> { introSection.style.display = 'none'; }, 650);

        // show stage (lights)
        stageSection.style.display = 'flex';
        setTimeout(()=> {
          mainSection.style.display = 'flex';
          // typing the message
          typeMessage(message, typedTextEl, 16);

          // show end after a delay
          setTimeout(()=> {
            endSection.style.display = 'flex';
            // soften sparkles but keep small shimmer
            sparkles.style.opacity = '0.9';
          }, 1800);
        }, 500);
      }, 900);

      // try to play the YouTube player by focusing it (browsers may still block autoplay on mobile)
      try {
        const yt = document.getElementById('yt-player');
        yt.contentWindow && yt.focus && yt.focus();
      } catch(e){ /* ignore */ }

      // ensure the local video is visible & try to play (some mobile browsers require user gesture)
      setTimeout(()=> {
        try { video.play().catch(()=>{}); } catch(e){}
      }, 1000);
    }

    // click handlers
    openBtn.addEventListener('click', revealAll);
    envelopeWrap.addEventListener('click', revealAll);
    envelopeWrap.addEventListener('keypress', (e)=> { if(e.key === 'Enter') revealAll(); });

    // attempt autoplay on page load for YouTube (may be blocked)
    window.addEventListener('load', ()=> {
      // small hint: on mobile autoplay is often blocked until user interacts. We still request autoplay via the embed.
      // for best results, the user can tap the intro envelope which is already the intended flow.
      // keep sparkles strong until envelope is opened
      sparkles.style.opacity = '1';
      // auto-open audio focus attempt
      setTimeout(()=> {
        try { document.getElementById('yt-player').contentWindow && document.getElementById('yt-player').contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*'); } catch(e){}
      }, 700);
    });

    // accessibility: allow space to open
    document.addEventListener('keydown', (e)=> { if(e.key === ' ' || e.key === 'Enter') { if(window.getComputedStyle(introSection).display !== 'none') revealAll(); } });

    // small progressive enhancement: if photos aren't present, replace with placeholders
    function checkImages(){
      ['p1','p2'].forEach(id=>{
        const el = document.getElementById(id);
        el.addEventListener('error', ()=> {
          el.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300"><rect width="100%" height="100%" fill="%23ffeef8"/><text x="50%" y="50%" fill="%237a0b45" font-size="18" text-anchor="middle" alignment-baseline="middle">Photo not found</text></svg>';
        });
      });
    }
    checkImages();

    // make the page mobile-friendly fit
    (function ensureMobile(){
      // try to make video fit height nicely on phones
      function adapt(){
        const vh = window.innerHeight * 0.6;
        video.style.maxHeight = (vh) + 'px';
      }
      window.addEventListener('resize', adapt);
      adapt();
    })();
  </script>
</body>
</html>
